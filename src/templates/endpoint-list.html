<div class="endpoint-container">
    {% for category in categories %}
    <div class="category-group">
        <div class="category-header" onclick="toggleCategory(this)">
            <span>{{ category.name }}</span>
            <span class="toggle-icon">▼</span>
        </div>
        <div class="category-content">
            {% for endpoint in category.endpoints %}
            <div class="endpoint-row">
                <span class="http-method method-{{ endpoint.method|lower }}">
                    {{ endpoint.method }}
                </span>
                <span class="endpoint-path">{{ endpoint.path }}</span>
                <span class="endpoint-description">{{ endpoint.description }}</span>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>

<script>
function toggleCategory(header) {
    const content = header.nextElementSibling;
    const icon = header.querySelector('.toggle-icon');
    content.classList.toggle('expanded');
    icon.textContent = content.classList.contains('expanded') ? '▼' : '▶';
}
</script>
